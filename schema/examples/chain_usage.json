{
  "type": "sequential",
  "chains": [
    {
      "type": "llm",
      "llm": {
        "type": "deepseek",
        "model": "deepseek-chat",
        "api_key": "${DEEPSEEK_API_KEY}",
        "temperature": 0.3,
        "max_tokens": 1000
      },
      "prompt": {
        "type": "prompt_template",
        "template": "请分析以下文本的主要情感和关键词:\n\n文本: {text}\n\n请以JSON格式返回结果，包含sentiment（positive/negative/neutral）和keywords字段。",
        "input_variables": ["text"],
        "template_format": "f-string"
      },
      "input_keys": ["text"],
      "output_keys": ["analysis"]
    },
    {
      "type": "llm",
      "llm": {
        "type": "kimi",
        "model": "moonshot-v1-8k",
        "api_key": "${KIMI_API_KEY}",
        "temperature": 0.6,
        "max_tokens": 800
      },
      "prompt": {
        "type": "prompt_template",
        "template": "基于以下分析结果，生成一个适当的回复建议:\n\n分析结果: {analysis}\n原始文本: {text}\n\n请生成一个友好、专业的回复建议。",
        "input_variables": ["analysis", "text"],
        "template_format": "f-string"
      },
      "input_keys": ["analysis", "text"],
      "output_keys": ["response_suggestion"]
    },
    {
      "type": "llm",
      "llm": {
        "type": "qwen",
        "model": "qwen-plus",
        "api_key": "${QWEN_API_KEY}",
        "temperature": 0.4,
        "max_tokens": 500
      },
      "prompt": {
        "type": "prompt_template",
        "template": "请对以下回复建议进行优化，使其更加简洁和有效:\n\n原始建议: {response_suggestion}\n\n请返回优化后的建议。",
        "input_variables": ["response_suggestion"],
        "template_format": "f-string"
      },
      "input_keys": ["response_suggestion"],
      "output_keys": ["final_response"]
    }
  ],
  "input_keys": ["text"],
  "output_keys": ["final_response"],
  "options": {
    "sequential_execution": true,
    "pass_through_keys": ["text"],
    "error_on_missing_keys": true
  }
}